

html {
	--color-miku: #009bb3;
	--color-base-0: oklch(0.20 0.02 60);
	--color-base-10: color-mix(in oklch, var(--color-base-100) 10%, var(--color-base-0));
	--color-base-20: color-mix(in oklch, var(--color-base-100) 20%, var(--color-base-0));
	--color-base-30: color-mix(in oklch, var(--color-base-100) 30%, var(--color-base-0));
	--color-base-40: color-mix(in oklch, var(--color-base-100) 40%, var(--color-base-0));
	--color-base-50: color-mix(in oklch, var(--color-base-100) 50%, var(--color-base-0));
	--color-base-60: color-mix(in oklch, var(--color-base-100) 60%, var(--color-base-0));
	--color-base-70: color-mix(in oklch, var(--color-base-100) 70%, var(--color-base-0));
	--color-base-80: color-mix(in oklch, var(--color-base-100) 80%, var(--color-base-0));
	--color-base-90: color-mix(in oklch, var(--color-base-100) 90%, var(--color-base-0));
	--color-base-100: oklch(0.95 0.04 70);
	--color-dark: var(--color-base-0);
	--color-light: var(--color-base-100);

	font-family: serif;
	font-size: 16px;
	min-height: 100%;
	display: flex;
	flex-direction: column;

	accent-color: var(--color-base-30);
	background: var(--color-base-20);
	color: var(--color-base-0);
}

html.serif-dark {
	--color-base-0: oklch(0.95 0.04 30);
	--color-base-10: color-mix(in oklch, var(--color-base-100) 10%, var(--color-base-0));
	--color-base-20: color-mix(in oklch, var(--color-base-100) 80%, var(--color-base-0));
	--color-base-30: color-mix(in oklch, var(--color-base-100) 70%, var(--color-base-0));
	--color-base-40: color-mix(in oklch, var(--color-base-100) 60%, var(--color-base-0));
	--color-base-50: color-mix(in oklch, var(--color-base-100) 50%, var(--color-base-0));
	--color-base-60: color-mix(in oklch, var(--color-base-100) 40%, var(--color-base-0));
	--color-base-70: color-mix(in oklch, var(--color-base-100) 30%, var(--color-base-0));
	--color-base-80: color-mix(in oklch, var(--color-base-100) 20%, var(--color-base-0));
	--color-base-90: color-mix(in oklch, var(--color-base-100) 10%, var(--color-base-0));
	--color-base-100: oklch(0.20 0.02 30);
	--color-dark: var(--color-base-100);
	--color-light: var(--color-base-0);

	color-scheme: dark;
}

html.nockoffAI {
	---color-bg-dark: #191b31;
	--color-bg: #191b31;

	--color-text: #fff;
	--color-base-0: #fff;
	--color-base-10: color-mix(in oklch, var(--color-base-100) 90%, var(--color-base-0));
	--color-base-20: color-mix(in oklch, var(--color-base-100) 80%, var(--color-base-0));
	--color-base-30: color-mix(in oklch, var(--color-base-100) 70%, var(--color-base-0));
	--color-base-40: color-mix(in oklch, var(--color-base-100) 60%, var(--color-base-0));
	--color-base-50: color-mix(in oklch, var(--color-base-100) 50%, var(--color-base-0));
	--color-base-60: color-mix(in oklch, var(--color-base-100) 40%, var(--color-base-0));
	--color-base-70: color-mix(in oklch, var(--color-base-100) 30%, var(--color-base-0));
	--color-base-80: color-mix(in oklch, var(--color-base-100) 20%, var(--color-base-0));
	--color-base-90: color-mix(in oklch, var(--color-base-100) 10%, var(--color-base-0));
	--color-base-100: #13152c;
	--color-dark: var(--color-base-100);
	--color-light: #fff;
	--color-input: #0e0f21;
	--color-sidebar: var(--color-base-100);
	--color-prompt-area: #191b31;
	--color-hover: #13152c;
	--color-button: #22253f;
	--color-disabled: #161833;
	--color-button-hover: #282b44;

	--token-prob-box: #4a4a4a;

	font-family: "Source Sans Pro", "Helvetica Neue", sans-serif;
	font-size: 15.5px;

	accent-color: var(--color-base-30);
	background: var(--color-bg-dark);
	color: var(--color-base-0);
	color-scheme: dark;
}
html.nockoffAI body {
	background: var(--color-prompt-area)
}

html.monospace-dark {
	---color-bg-dark: #282833;
	--color-bg: #202020;
	--color-text: #bababa;
	--color-base-0: oklch(77.65% 0.0752 285.22);
	--color-base-10: color-mix(in oklch, var(--color-base-100) 90%, var(--color-base-0));
	--color-base-20: color-mix(in oklch, var(--color-base-100) 80%, var(--color-base-0));
	--color-base-30: color-mix(in oklch, var(--color-base-100) 70%, var(--color-base-0));
	--color-base-40: color-mix(in oklch, var(--color-base-100) 60%, var(--color-base-0));
	--color-base-50: color-mix(in oklch, var(--color-base-100) 50%, var(--color-base-0));
	--color-base-60: color-mix(in oklch, var(--color-base-100) 40%, var(--color-base-0));
	--color-base-70: color-mix(in oklch, var(--color-base-100) 30%, var(--color-base-0));
	--color-base-80: color-mix(in oklch, var(--color-base-100) 20%, var(--color-base-0));
	--color-base-90: color-mix(in oklch, var(--color-base-100) 10%, var(--color-base-0));
	--color-base-100: oklch(24.28% 0.015 285.22);
	--color-dark: var(--color-base-100);
	--color-light: var(--color-base-0);
	--token-prob-box: #4a4a4a;

	font-family: monospace;
	font-size: 15px;

	accent-color: var(--color-base-30);
	background: var(--color-bg-dark);
	color: var(--color-base-0);
	color-scheme: dark;
}

html.ereader {
	--color-base-0: #000;
	--color-base-10: color-mix(in srgb, var(--color-base-100) 10%, var(--color-base-0));
	--color-base-20: color-mix(in srgb, var(--color-base-100) 20%, var(--color-base-0));
	--color-base-30: color-mix(in srgb, var(--color-base-100) 30%, var(--color-base-0));
	--color-base-40: color-mix(in srgb, var(--color-base-100) 40%, var(--color-base-0));
	--color-base-50: color-mix(in srgb, var(--color-base-100) 50%, var(--color-base-0));
	--color-base-60: color-mix(in srgb, var(--color-base-100) 60%, var(--color-base-0));
	--color-base-70: color-mix(in srgb, var(--color-base-100) 70%, var(--color-base-0));
	--color-base-80: color-mix(in srgb, var(--color-base-100) 80%, var(--color-base-0));
	--color-base-90: color-mix(in srgb, var(--color-base-100) 90%, var(--color-base-0));
	--color-base-100: #fff;
	--color-miku: #08f;

	font-family: monospace;
	font-size: 16px;

	background: var(--color-base-10);
}

body {
	margin: 0;
	display: flex;
	flex: auto;
	flex-direction: row;
	
	--font-size-multiplier: 1.0;
}
@media (min-width: calc(40.5em + 250px)) {
	body.attachSidebar {
		margin-right: auto;
		margin-left: auto;
	}
}

#prompt-container {
	position: relative;
	font-size: calc(1.125rem * var(--font-size-multiplier));
	max-width: 36em;
	margin-right: auto;
	margin-left: auto;
	flex: 1;
	display: flex;
	flex-direction: column;
}
@media (min-width: calc(40.5em + 250px)) {
	body.attachSidebar #prompt-container {
		min-width: 36em;
		max-width: 36em;
	}
}

#prompt-area, #prompt-overlay {
	flex: 1;
	border: none;
	outline: none;
	resize: none;
	background: var(--color-base-100);
	color: var(--color-base-10);
	padding: 2em 3em;
	margin: 0;
	scrollbar-gutter: stable;
	font: inherit;
	box-sizing: content-box;
	text-size-adjust: 100%;
	-webkit-text-size-adjust: 100%;
	-moz-text-size-adjust: 100%;
	/*white-space: break-spaces;*/
	word-wrap: break-word;
}
html.monospace-dark #prompt-area,
html.monospace-dark #memory-area,
html.monospace-dark #an-area,
html.monospace-dark .expanded-text-area-settings,
html.monospace-dark .wi-textarea {
	background: var(--color-bg);
	color: var(--color-text);
}
html.nockoffAI #prompt-area {
	text-indent: 1em each-line;
	background: var(--color-prompt-area);
	color: var(--color-text);
}
html.nockoffAI #prompt-overlay {
	text-indent: 1em each-line;
}
html.nockoffAI #memory-area,
html.nockoffAI #an-area,
html.nockoffAI .expanded-text-area-settings,
html.nockoffAI .wi-textarea {
	background: var(--color-input);
	color: var(--color-text);
}
.modal .wi-textarea {
	resize:vertical;
	background: var(--color-base-100);
	color: var(--color-base-10);
}

#memory-area, #an-area, .expanded-text-area-settings, .wi-textarea {
	flex: 1;
	border: none;
	outline: none;
	resize: none;
	background: var(--color-base-100);
	color: var(--color-base-10);
	padding: 0.5em;
	scrollbar-gutter: stable;
	font-family: inherit;
	border-radius: 2px;
}
#memory-area {
	min-height:9.5em;
}
#an-area {
	min-height:3.5em;
}
.wi-textarea {
	min-height: 4em;
}

#advancedContextPlaceholders {
	background: var(--color-base-30);
	margin: 1em auto;
	padding: .25em;
	border-radius: 2px;
	width: fit-content;
}
#advancedContextPlaceholders table {
	border-color: var(--color-base-80);
}
#advancedContextPlaceholders th,
#advancedContextPlaceholders td {
	text-align: center;
	padding: 0.15em;
}
#advancedContextPlaceholders td {
	user-select:all;
}

#advanced-context-order-settings {
	min-height: 3.5em;
}

.expanded-text-area-settings {
	margin: 8px 0 8px 0;
	width:100%;
	box-sizing: border-box;
	height:25.5em;
}

#prompt-overlay {
	white-space: pre-wrap;
	position: absolute;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	transform: translate(0px, 0px);
	background: transparent;
	color: transparent;
	pointer-events: none;
	user-select: none;
	-ms-user-select: none;
	-webkit-user-select: none;
	overflow: hidden;
}

#prompt-container:hover #prompt-overlay > .machine {
	background: color-mix(in srgb, var(--bg-color, var(--color-miku)) 10%, transparent);
}
html.ereader #prompt-container:hover #prompt-overlay > .machine {
	background: color-mix(in srgb, var(--bg-color, var(--color-miku)) 20%, transparent);
}
#prompt-container #prompt-overlay > .machine.erase {
	background: color-mix(in srgb, #FF0000 10%, transparent);
}
#prompt-container #prompt-overlay > .machine.current {
	border-radius: 3px;
	outline: 1px solid var(--color-base-50);
	outline-offset: 1px;
}
#prompt-container #prompt-overlay > .preview {
	color: var(--color-dark);
	opacity: 40%;
}
html.serif-dark #prompt-container #prompt-overlay > .preview,
html.monospace-dark #prompt-container #prompt-overlay > .preview,
html.nockoffAI #prompt-container #prompt-overlay > .preview {
	color: var(--color-light);
	opacity: 30%;
}
#prompt-container #prompt-overlay > .nudge {
    outline: 1px solid var(--color-dark);
    margin-left: 5px;
	padding-bottom: 2px;
    padding: 0 4px;
    font-size: calc(11px * var(--font-size-multiplier));
    background-color: transparent;
    border-radius: 3px;
	position: relative;
	top: -2px;
}
html.serif-dark #prompt-container #prompt-overlay > .nudge,
html.monospace-dark #prompt-container #prompt-overlay > .nudge,
html.nockoffAI #prompt-container #prompt-overlay > .nudge {
    border: 1px solid var(--color-light);
}

#probs {
	position: absolute;
	background: var(--color-base-30);
	top: var(--probs-top);
	left: var(--probs-left);
	display: flex;
	transform: translate(-50%, -100%);
	border-radius: 5px;
	box-shadow: 0 1px 1px 1px #00000033;
	z-index: 9999;

	overflow-x: auto;
	max-width: 99%;
	scrollbar-width: thin;
}
html.monospace-dark #probs,
html.nockoffAI #probs {
	background: var(--color-base-10);
	border: 1px solid var(--token-prob-box);
	border-radius: calc(4px * var(--font-size-multiplier));
	box-shadow: none;
}
#probs > button {
	cursor: pointer;
	background: transparent;
	color: var(--color-light);
	border-radius: 0;
	padding: calc(4px * var(--font-size-multiplier)) calc(8px * var(--font-size-multiplier));
	display: flex;
	flex-direction: column;
	flex: none;
	font-size: calc(1rem * var(--font-size-multiplier));
}
#probs > button.current {
	background: var(--color-base-40);
}
#probs > button:first-child {
	border-radius: calc(5px * var(--font-size-multiplier)) 0 0 calc(5px * var(--font-size-multiplier));
	padding-left: calc(6px * var(--font-size-multiplier));
}
#probs > button:last-child {
	border-radius: 0 calc(5px * var(--font-size-multiplier)) calc(5px * var(--font-size-multiplier)) 0;
	padding-right: calc(6px * var(--font-size-multiplier));
}
#probs > button:hover {
	background: var(--color-base-40);
}
#probs > button:active {
	background: var(--color-base-50);
}
#probs > button > .prob {
	font-size: calc(0.8rem * var(--font-size-multiplier));
}

.flexfiller {
	flex-grow: 1;
}

.widget-body {
	z-index: 10;
	color: var(--color-light);
	box-shadow: #0004 2px 2px 6px 2px;
}
html.nockoffAI #searchAndReplace {
	background: var(--color-sidebar);
}

.widget-title-bar {
	display: flex;
	align-items: center;
}
.button-widget-top {
	all:unset;
	margin: auto;
	width:1.25em;
	height:1.25em;
	border-radius: 3px;
}
.widget-title {
	-webkit-user-select: none; /* Safari */
	-ms-user-select: none; /* IE 10 and IE 11 */
	user-select: none; /* Standard syntax */
	padding:0.2em;
	font-weight: bold;
	font-size: 110%;
	background-color: var(--color-base-40);
	border-radius:2px;
	width: calc(100% - 2em);
	display: flex;
	align-items: center;
}
html.nockoffAI .widget-title {
	background: var(--color-input);
	color: var(--color-base-50);
}
html.monospace-dark .widget-title {
  background: #46465a;
} 

.widget-title svg {
	height: 1em;
	margin-right: .25em;
}

#searchAndReplace {
	position: absolute;
	width: 40vw;
	background: var(--color-base-50);
	top:.75em;
	left:.75em;
	border-radius:3px;
	padding:0.25em;
}

html.monospace-dark #searchAndReplace {
  background: #282833;
} 

#searchAndReplace .widget-content {
	padding: .2em;
}

.searchAndReplace-inputs {
	display: flex;
	flex-direction: row;
	gap: 8px;
	margin-bottom:8px;
}
.searchAndReplace-inputs .InputBox {
	flex: 1
}
.searchAndReplace-inputs .SelectBox {
	width: max-content;
}

.searchAndReplace-buttons {
	display: flex;
	gap: 8px;
}
#searchAndReplace .findButton {
	display: flex;
	align-items: center;
}
#searchAndReplace .findButtonText svg {
	margin-right:.25em;
}
#searchAndReplace .findButton svg {
	width: .75em;
}
.number-matches {
	align-content: center;
}


.modal-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.65);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 20;
}
.modal-container {
	width: 100%;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
}

.modal {
	color: var(--color-light);
	position: relative;
	background: var(--color-base-50);
	width: 75%;
	max-height: 80vh;
	padding: 1em;
	border-radius: 5px;
	display: flex;
	flex-direction: column;
}
html.monospace-dark .modal {
	background: #282833;
}
html.nockoffAI .modal {
	background: var(--color-sidebar);
	color:var(--color-base-50);
}
html.nockoffAI .modal-title {
	color:var(--color-text);
}
html.nockoffAI  #context-order-desc,
html.nockoffAI  #contextTokensTable,
html.nockoffAI .modal-desc {
	color:var(--color-base-80);
}

.button-modal-top {
	all:unset;
	position: absolute;
	top:1em;
	right:1em;
	width:1.25em;
	height:1.25em;
	border-radius: 3px;
}
.modal-title {
	font-size: 150%;
	font-weight:bold;
	margin-bottom: .25em;
}

.modal-content {
	overflow: hidden;
}

hr {
	border:unset;
	border-top: 1px solid var(--color-base-40);
	margin: 0.75em -1em 0.5em;
}


/* world info */

.modal-wi-content {
	display: flex;
	flex-direction:column;
	margin-top:0.5em;
	max-height:50vh;
}

#modal-wi-global{
	display: flex;
	flex-direction: column;
	gap: 4px;
}

#button-wi-new {
	width: 100%;
}

.wi-entry {
	margin: 4px 0;
}

.wi-entry-controls {
	display: grid;
	grid-template-columns: min-content 1fr;
	grid-template-rows: min-content 1fr;
	border-top: 1px solid var(--color-base-40);
	padding-top: 8px;
	grid-template-areas:
	  "wi-entry-filler wi-entry-name ."
	  "wi-entry-buttons wi-entry-text ."
}
.wi-entry-filler { grid-area: wi-entry-filler; }
.wi-entry-name {
	grid-area: wi-entry-name;
	margin-bottom:8px;
}
.wi-entry-name input {
	background: var(--color-base-60);
	font-weight:bold !important;
	font-size: 1.2rem !important;
}
html.nockoffAI .wi-entry-name input {
	background: var(--color-base-10) !important;
}

.wi-entry-buttons {
	grid-area: wi-entry-buttons;
	margin-right: 4px; /* because gap sucks */
	display: flex;
	align-items: center;
	justify-content: center;
}
.wi-entry-buttons-container {
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	height: 5em;
}
.wi-entry-buttons button {
	display: grid;
	width:2em;
	height:fit-content;
}

.wi-entry-text {
	grid-area: wi-entry-text;
}
.wi-entry-text .hbox {
	grid-area: wi-entry-text;
	margin-bottom:4px;
}

.symbol-button {
	position: relative;
	margin-top: auto;
	width: 2.182rem;
	height: 1.625rem;
}
.symbol-button > svg {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
} 

/* logit bias */
.hbox-button {
	margin-top: auto;
	width: 1.625rem;
}
.hbox-flex {
	display: flex;
	flex-direction: row;
	gap: 8px;
}
.hbox-flex > .InputBox {
	width: 100%;
}
.small-inputBox {
	width: 8em;
}
.logitBiasContainer {
	position: relative;
	flex-wrap: unset !important;
}
.logitBiasPower-sidebar {
	width:10ch !important;
} 


.overflow-container {
	overflow-y:auto;
}
#logitBiasPower {
	text-align: center;
}

.lb-modal-grid-column {
	display: grid;
	grid-auto-rows: min-content;
	gap: 8px;
	max-height: 40vh;
	padding-right: .75em;

}
.lb-modal-grid-row  {
	display: grid;
	grid-template-columns: 4em 1fr min-content;
	grid-template-rows: min-content min-content min-content;
	gap: 1px 8px;
	grid-template-areas: 
		"power input add"
		". tokens remove"
		"hr hr hr"; 
	padding: 1px;
}
.lb-modal-power {
	grid-area: power;
	text-align: center;
}
.lb-modal-input { 
	grid-area: input;
	text-align: left;
}
.lb-modal-button.lb-modal-button-add { 
	grid-area: add;
}
.lb-modal-button.lb-modal-button-remove { 
	grid-area: remove;
}
.lb-modal-tokenized { 
	grid-area: tokens;
	font-family: monospace;
	font-size:0.7rem;
	margin-top: auto;
	display: grid;
	align-content: center;
	margin: auto 0 auto 0;
	/* height: 1.625rem; */
	width: 100%;
	overflow-wrap: anywhere;
}
.lb-modal-biasList hr {
	grid-area: hr;
	width: 90%;
	margin: 4px auto auto auto;
}

.lb-modal-biasList {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 8px;
}

#instructtemplatesmodal-name {
	size:110%;
}
.instructtemplatesmodal-edits .hbox {
	margin-top:8px;
}
.instructtemplatesmodal-edits .vbox {
	margin-top:8px;
}




#sidebar {
	font-family: inherit;
	width: 250px;
	background: var(--color-base-50);
	color: var(--color-light);
	padding: 4px 8px;
	display: flex;
	flex-direction: column;
	gap: 4px;
	overflow: auto;
	max-height: calc(100vh - 8px);
}
html.monospace-dark #sidebar {
	background: #282833;
	width: 265px;
}
html.nockoffAI #sidebar {
	background: var(--color-sidebar);
	color: var(--color-base-50);
	width: 255px;
}

.flex1 {
	flex: 1;
}

.hbox {
	flex: none;
	display: grid;
	grid: auto / auto-flow minmax(min-content, 1fr);
	gap: 8px;
}
.hbox-flex {
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
}

.vbox {
	flex: none;
	display: grid;
	grid: auto / minmax(min-content, 1fr) auto-flow;
	grid-template-rows: 0fr 0fr 0fr 0fr;
	gap: 4px;
}

.InputBox, .SelectBox, .TextArea {
	display: flex;
	position: relative;
	flex-direction: column;
	font-size: 0.75rem;
	padding: 0 8px;
}
.InputBox > div > input, .SelectBox > select, .TextArea > textarea {
	appearance: none;
	border: none;
	outline: none;
	width: 100%;
	box-sizing: content-box;
	font: inherit;
	font-size: 1rem;
	padding: 4px 8px;
	margin: 0 -8px;
	border-radius: 2px;
	color: inherit;
	background: var(--color-base-30);
	flex: none;
}

html.monospace-dark .InputBox > div > input, html.monospace-dark .SelectBox > select,
html.nockoffAI .InputBox > div > input, html.nockoffAI .SelectBox > select {
	color: var(--color-light);
}

.InputBox > div > input:read-only {
	background: var(--color-base-60);
}
html.monospace-dark .InputBox > div > input:read-only {
	background: var(--color-base-30);
}
html.nockoffAI .InputBox > div > input:read-only {
	background: var(--color-disabled);
}
html.nockoffAI .SelectBox > select,
html.nockoffAI .collapsible-header,
html.nockoffAI .InputBox > div > input {
	background: var(--color-input);
}
html.nockoffAI .horz-separator {
	border-top: 3px dotted color-mix(in oklch, var(--color-base-100) 90%, var(--color-light));
}

.InputBox > div > input:focus-visible {
	outline: 1px solid var(--color-base-0);
}
.SelectBox > select:disabled {
	background: var(--color-base-60);
}
html.nockoffAI .SelectBox > select:disabled {
	background: var(--color-disabled);
}
.relative {
	position: relative;
}

.Checkbox {
	user-select: none;
	margin: 0 5px 0 0;
	vertical-align: middle;
	position: relative;
	bottom: .08em;
}

.InputBox > div > input.mixed-content {
	outline: 1px solid yellow;
}
.InputBox > div > input.rejected {
	outline: 1px solid #ff3131;
}

.InputBox > div > button {
	margin-left: 4px;
	padding: 4px;
	line-height: 0;
	margin-right: -8px;
}

.InputSlider-container {
	position: relative;
	display: flex;
	flex-direction: column;
}

.InputSlider-container input[type="range"] {
	width: calc(100% + 16px);
	height: 8px;
	-webkit-appearance: none;
	appearance: none;
	padding: 0;
	z-index: 1;
	background: var(--color-base-20);
	border-radius: 2px 2px 0 0;
	outline: none;
	border: none;
}

.InputSlider-container input[type="range"]::-webkit-slider-runnable-track {
	height: 8px;
	background: var(--color-base-20);
	border-radius: 2px 2px 0 0;
}

.InputSlider-container input[type="range"]::-webkit-slider-thumb {
	width: 12px;
	height: 12px;
	-webkit-appearance: none;
	appearance: none;
	background: var(--color-light);
	border-radius: 50%;
	cursor: pointer;
	margin-top: -2px;
}

.InputSlider-container input[type="range"]::-moz-range-track {
	height: 8px;
	background: var(--color-base-20);
	border-radius: 2px 2px 0 0;
}

.InputSlider-container input[type="range"]::-moz-range-thumb {
	width: 12px;
	height: 12px;
	background: var(--color-light);
	border-radius: 50%;
	cursor: pointer;
}

.InputSlider-container input[type="range"]::-ms-track {
	width: 100%;
	height: 8px;
	background: transparent;
	border-color: transparent;
	color: transparent;
}

.InputSlider-container input[type="range"]::-ms-fill-lower {
	background: var(--color-base-20);
	border-radius: 5px 5px 0 0;
}

.InputSlider-container input[type="range"]::-ms-fill-upper {
	background: var(--color-base-20);
	border-radius: 2px 2px 0 0;
}

.InputSlider-container input[type="range"]::-ms-thumb {
	width: 12px;
	height: 12px;
	background: var(--color-light);
	border-radius: 50%;
	cursor: pointer;
}

.InputSlider-container input[type="number"] {
	width: 100%;
	margin-top: -1px;
	position: relative;
	z-index: 0;
	text-align: center;
	border: none;
	border-radius: 0 0 2px 2px;
	-moz-appearance: textfield;
	-webkit-appearance: textfield;
	appearance: textfield;
}

.InputSlider-container input[type="number"]::-webkit-outer-spin-button,
.InputSlider-container input[type="number"]::-webkit-inner-spin-button {
	-webkit-appearance: none;
	margin: 0;
}

.tooltip {
	position: relative;
}
.tooltip .tooltiptext {
	white-space: pre-wrap;
	pointer-events: none;
	width: 95%;
	background-color: #000000AA;
	color: var(--color-light);
	text-align: center;
	padding: 5px 4px;
	margin: 0 -8px;
	border-radius: 6px;
	opacity: 0;
	transition: opacity 0.3s;

	position: absolute;
	z-index: 1;
	transform: translate(0, -75%);
}
html.monospace-dark .tooltip .tooltiptext {
	transform: translate(0, -65%);
}
.tooltip .tooltiptext.short {
	transform: translate(0, -45%);
}
html.monospace-dark .tooltip .tooltiptext.short {
	transform: translate(0, -65%);
}
.tooltip:hover .tooltiptext {
	opacity: 1;
}

.error-text {
	width: max-content;
	text-align: center;
	background: #4E3534;
	border-radius: 4px;
	color: #FF8080;
	margin-left: auto;
	margin-right: auto;
	padding: 2px 10px;
	max-width: 215px;
}

button {
	appearance: none;
	border: none;
	outline: none;
	font: inherit;
	padding: 4px 8px;
	color: inherit;
	background: var(--color-base-30);
	border-radius: 2px;
}
html.nockoffAI button {
	background: var(--color-button);
	color: var(--color-base-90);
}
html.nockoffAI .Session button:not(:hover),
html.nockoffAI button.textAreaSettings:not(:hover) {
	background: none;
}
button.textAreaSettings {
	all: unset;
	color: var(--color-base-50);
	width:1.25em;
	position:absolute;
	top:calc(1.25em + 1px);
	right:1px;
}
button.textAreaSettings.textAreaSettings-bias {
	top: 1.45em;
	right: 5px;
}
.token-counter {
	pointer-events: none;
	position:absolute;
	bottom:0;
	right:0;
	transform: translate(0%,-50%);
	color: var(--color-base-50);
	background: color-mix(in srgb, var(--color-base-30), transparent 50%);
}.token-counter::after {
	content:" Tokens";
}
button:hover {
	background: var(--color-base-40);
}
html.nockoffAI button:hover {
	background: var(--color-button-hover);
}
button:active {
	background: var(--color-base-50);
}
button:disabled {
	background: var(--color-base-60);
}
html.nockoffAI button:disabled {
	background: var(--color-disabled);
}
button:focus-visible {
	outline: 1px solid var(--color-base-0);
}
button.processing {
	outline: 1px solid rgba(255, 255, 255, 0.5);
	animation: .5s ease-out infinite alternate processing;
}
@keyframes processing {
	from { outline-width: 0px; }
	to { outline-width: 4px; }
}
button.completing {
	outline: 1px solid limegreen;
	animation: .5s ease-out infinite alternate completing;
}
@keyframes completing {
	from { outline-width: 0px; }
	to { outline-width: 4px; }
}

.buttons {
	display: flex;
	gap: 8px;
	justify-content: center;
}
.buttons .shorts {
	line-height: 0;
}
.buttons .shorts > button {
	height: 100%;
}

.instructTemplatesImportExport{
	width: fit-content;
	margin: auto;
	display: flex;
	gap: 8px;
}
.instructTemplateSidebar > .SelectBox {
	width: 100%;
}
.instructTemplateSidebar > .hbox-button {
	min-width: max-content;
}

.collapsible-group {
	border: none;
	outline: none;
}

.collapsible-header {
	user-select: none;
	cursor: pointer;
	display: flex;
	align-items: center;
	padding: 4px 8px;
	color: inherit;
	background-color: var(--color-base-30);
	border-radius: 2px;
}
.collapsible-header svg {
	margin-right: 5px;
}

.collapsible-content {
	transform: scaleY(0);
	transition: transform 0.15s ease-in-out 0s, max-height 0.15s ease-in-out 0s;
	transform-origin: center top;
	display: flex;
	flex-direction: column;
	gap: 4px;
}
.collapsible-content.expanded {
	transform: scaleY(1);
	margin-top: 4px;
}

.Sessions {
	display: flex;
	flex: auto;
	flex-direction: row;
	gap: 4px;
}
.Sessions > ul {
	list-style-type: none;
	margin: 0;
	padding: 0;
	max-height: 200px;
	overflow-y: auto;
	width: 100%;
	background: var(--color-base-40);
}
html.monospace-dark .Sessions > ul {
	background: var(--color-base-20);
}
html.nockoffAI .Sessions > ul {
	background: var(--color-input);
}
.Sessions.disabled > ul {
	background: var(--color-base-50);
	pointer-events: auto;
}
html.nockoffAI .Sessions.disabled > ul {
	background: var(--color-disabled);
}

.Sessions > ul > li {
	display: flex;
	align-items: center;
}
.Sessions.disabled > ul > li {
	pointer-events: none;
}

.Session {
	width: 100%;
	padding: 0.5rem;
	padding-left: 0.8rem;
	cursor: pointer;
	display: flex;
	word-break: break-word;
	user-select: none;
}
html.nockoffAI .Session {
	margin: 0.25rem;
	padding: 0.25rem;
	color: var(--color-base-70);
}
html.nockoffAI .Session > input {
	background-color: var(--color-input);
	outline: none;
}
html.nockoffAI .Session.selected {
	color: var(--color-text);
	background-color: var(--color-prompt-area)
}
.Session:hover {
	background-color: var(--color-base-60);
}
html.monospace-dark .Session:hover {
	background-color: var(--color-base-40);
}
html.nockoffAI .Session:hover {
	background-color: var(--color-hover);
}
.Session.selected {
	background-color: var(--color-base-30);
}
html.monospace-dark .Session.selected {
	background-color: var(--color-base-10);
}

.Session > button {
	margin-left: 4px;
	padding: 0;
	background: none;
	border: none;
	cursor: pointer;
	outline: none;
	line-height: 0;
	opacity: 0.5;
}
.Session > button:hover {
	opacity: 1;
}

.Session > input {
	padding: 0;
	appearance: none;
	border: none;
	outline: 1px solid var(--color-light);
	background-color: var(--color-base-40);
	font: inherit;
	color: inherit;
	width: 80%;
	margin-right: 5%;
}

#error-bar {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	min-height: 0;

	background-color: #4E3534;
	color: #FF8080;
	text-align: center;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

#error-bar div {
	padding: 10px;
}

.flex-separator {
	margin-left: auto;
}

.horz-separator {
	border-top: 3px dotted var(--color-base-60);
}
html.monospace-dark .horz-separator {
	border-top: 3px dotted var(--color-base-20);
}

.eye-button {
	position: relative;
	margin-top: auto;
	width: 1.891rem;
	height: 1.625rem;
}
html.monospace-dark .eye-button {
	position: relative;
	margin-top: auto;
	width: 1.891rem;
	height: 1.725rem;
}
.eye-button > svg {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
} 

#button-settings {
	display: none;
}

@media (max-width: 767.98px) {
	body {
		flex-direction: column;
	}
	#prompt-container {
		width: 100%;
		max-width: 100%;
		border: none !important; /* put this here because for some reason, something adds "border-right: 2px dotted transparent;border-left: 2px dotted transparent;" to prompt-container whenever this element is clicked*/
	}
	#sidebar, html.monospace-dark #sidebar, html.nockoffAI #sidebar {
		width: auto;
		max-height: calc(93vh - 8px);
		position: fixed;
		left: 0;
		right: 0;
		bottom: 0;
	}
	#sidebar .SelectBox:first-child, .horz-separator, .collapsible-group {
		display: none;
	}
	#button-settings {
		display: block;
	}
}

@media (min-width: 767.98px) {
	#sidebar .SelectBox:first-child, .horz-separator, .collapsible-group {
		display: block !important;
	}
}

.floating-menu {
	position: absolute;
	top: 30px;
	right: 0px;
	background-color: var(--color-base-40);
	border: 1px solid var(--color-base-30);
	border-radius: 4px;
	box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
	padding: 10px;
	z-index: 1000;
	display: flex;
	flex-direction: column;
	cursor: default;
}
html.monospace-dark .floating-menu {
	background: var(--color-base-20);
	border: 1px solid var(--color-base-10);
}
html.nockoffAI .floating-menu {
	background: var(--color-input);
}

.EditorContextMenu {
	display: none;
	position: absolute;
	background: var(--color-base-40);
	color: var(--color-light);
	/* border: 1px solid #ccc; */
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	border-radius: 4px;
	/* overflow: hidden; */
	padding-top: 4px;
	padding-bottom: 4px;
	width: 210px;
	z-index: 1000;
}
html.nockoffAI .EditorContextMenu,
html.monospace-dark .EditorContextMenu {
	background: var(--color-base-20);
}

.EditorContextMenu ul {
	list-style: none;
	margin: 0;
	padding: 0;
}

.MenuItem {
	padding: 10px 15px;
	cursor: pointer;
	transition: background-color 0.2s ease-in-out;
	font-size: 14px;
	border-radius: 0px;
}
.MenuItem:not(.disabled):hover {
	background: var(--color-base-50) !important;
}
html.nockoffAI .MenuItem:not(.disabled):hover,
html.monospace-dark .MenuItem:not(.disabled):hover {
	background: var(--color-base-40) !important;
}

.MenuItem.disabled {
	cursor: default;
	background: var(--color-base-20);
	color: var(--color-base-50);
}
html.nockoffAI .MenuItem.disabled,
html.monospace-dark .MenuItem.disabled {
	background: var(--color-base-10);
color: var(--color-base-50);
}

.MenuItem.hasSubItems {
	position: relative;
}
.MenuItem.hasSubItems .arrow {
	position: absolute;
	right: 15px;
	top: 45%;
	transform: translateY(-45%);
	font-size: 24px;
	transition: transform 0.2s ease-in-out;
}

.EditorContextMenu.nested {
	box-shadow: none;
	top: -4px;
	left: 210px;
}

